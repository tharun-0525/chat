<!DOCTYPE html>
<html>
<head>
    <title>Users</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .user-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-width: 400px;
            margin: 20px auto;
        }
        .user {
            display: flex;
            align-items: center;
            gap: 15px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        .user img {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            object-fit: cover;
        }
        .username {
            font-weight: bold;
            font-size: 1.1em;
        }
        a {
            text-decoration: none;
            color: black;
        }
    </style>
</head>
<body>
<div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; margin-bottom: 18px;">
    <div style="font-size: 1.15em; font-weight: 500; color: #222;">
        Welcome,
        <a href="{% url 'myapp:profile' request.user.username %}" style="color: #2563eb; text-decoration: none; font-weight: 600; margin-left: 8px;">
            {{ request.user.username }}
        </a>
    </div>
    <a href="{% url 'myapp:logout' %}"
       style="color: #ef4444; font-size: 0.95em; font-weight: 500; text-decoration: none; border: 1px solid #ef4444; border-radius: 4px; padding: 4px 12px; transition: background 0.2s, color 0.2s;"
       onmouseover="this.style.background='#fee2e2';this.style.color='#b91c1c';"
       onmouseout="this.style.background='';this.style.color='#ef4444';">
        Logout
    </a>
</div>
    <div class="user-list">
        {% for user in users %}
        <a href="{% url 'msg:text' user.username %}">
            <div class="user">
                <img src="{% if user.pfp %}{{ user.pfp.url }}{% else %}/static/default_pfp.png{% endif %}" alt="pfp">
                <div class="username">{{ user.username }}</div>
            </div>
        </a>
        {% endfor %}
    </div>
</body>
</html>
